/**
 * Created by Zhou on 17/1/19.
 */
(function(M){"object"===typeof exports&&"undefined"!==typeof module?module.exports=M():"function"===typeof define?define([],M):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).io=M()})(function(){return function h(k,g,c){function b(d,f){if(!g[d]){if(!k[d]){var l="function"==typeof require&&require;if(!f&&l)return l(d,!0);if(a)return a(d,!0);l=Error("Cannot find module '"+d+"'");throw l.code="MODULE_NOT_FOUND",l;}l=g[d]={exports:{}};k[d][0].call(l.exports,
    function(a){var c=k[d][1][a];return b(c?c:a)},l,l.exports,h,k,g,c)}return g[d].exports}for(var a="function"==typeof require&&require,f=0;f<c.length;f++)b(c[f]);return b}({1:[function(h,k,g){k.exports=h("./lib/")},{"./lib/":2}],2:[function(h,k,g){k.exports=h("./socket");k.exports.parser=h("engine.io-parser")},{"./socket":3,"engine.io-parser":19}],3:[function(h,k,g){(function(c){function b(e,a){if(!(this instanceof b))return new b(e,a);a=a||{};e&&"object"==typeof e&&(a=e,e=null);e?(e=r(e),a.hostname=
    e.host,a.secure="https"==e.protocol||"wss"==e.protocol,a.port=e.port,e.query&&(a.query=e.query)):a.host&&(a.hostname=r(a.host).host);this.secure=null!=a.secure?a.secure:c.location&&"https:"==location.protocol;a.hostname&&!a.port&&(a.port=this.secure?"443":"80");this.agent=a.agent||!1;this.hostname=a.hostname||(c.location?location.hostname:"localhost");this.port=a.port||(c.location&&location.port?location.port:this.secure?443:80);this.query=a.query||{};"string"==typeof this.query&&(this.query=m.decode(this.query));
    this.upgrade=!1!==a.upgrade;this.path=(a.path||"/engine.io").replace(/\/$/,"")+"/";this.forceJSONP=!!a.forceJSONP;this.jsonp=!1!==a.jsonp;this.forceBase64=!!a.forceBase64;this.enablesXDR=!!a.enablesXDR;this.timestampParam=a.timestampParam||"t";this.timestampRequests=a.timestampRequests;this.transports=a.transports||["polling","websocket"];this.readyState="";this.writeBuffer=[];this.policyPort=a.policyPort||843;this.rememberUpgrade=a.rememberUpgrade||!1;this.binaryType=null;this.onlyBinaryUpgrades=
        a.onlyBinaryUpgrades;this.perMessageDeflate=!1!==a.perMessageDeflate?a.perMessageDeflate||{}:!1;!0===this.perMessageDeflate&&(this.perMessageDeflate={});this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024);this.pfx=a.pfx||null;this.key=a.key||null;this.passphrase=a.passphrase||null;this.cert=a.cert||null;this.ca=a.ca||null;this.ciphers=a.ciphers||null;this.rejectUnauthorized=void 0===a.rejectUnauthorized?!0:a.rejectUnauthorized;var d="object"==typeof c&&
        c;d.global===d&&a.extraHeaders&&0<Object.keys(a.extraHeaders).length&&(this.extraHeaders=a.extraHeaders);this.open()}var a=h("./transports"),f=h("component-emitter"),d=h("debug")("engine.io-client:socket"),g=h("indexof"),l=h("engine.io-parser"),r=h("parseuri"),q=h("parsejson"),m=h("parseqs");k.exports=b;b.priorWebsocketSuccess=!1;f(b.prototype);b.protocol=l.protocol;b.Socket=b;b.Transport=h("./transport");b.transports=h("./transports");b.parser=h("engine.io-parser");b.prototype.createTransport=function(e){d('creating transport "%s"',
    e);var b=this.query,c={},f;for(f in b)b.hasOwnProperty(f)&&(c[f]=b[f]);c.EIO=l.protocol;c.transport=e;this.id&&(c.sid=this.id);return new a[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:c,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,
    cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders})};b.prototype.open=function(){var e;if(this.rememberUpgrade&&b.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var a=this;setTimeout(function(){a.emit("error","No transports available")},0);return}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(c){this.transports.shift();
    this.open();return}e.open();this.setTransport(e)};b.prototype.setTransport=function(e){d("setting transport %s",e.name);var a=this;this.transport&&(d("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners());this.transport=e;e.on("drain",function(){a.onDrain()}).on("packet",function(e){a.onPacket(e)}).on("error",function(e){a.onError(e)}).on("close",function(){a.onClose("transport close")})};b.prototype.probe=function(e){function a(){if(q.onlyBinaryUpgrades){var c=
    !this.supportsBinary&&q.transport.supportsBinary;r=r||c}r||(d('probe transport "%s" opened',e),l.send([{type:"ping",data:"probe"}]),l.once("packet",function(a){r||("pong"==a.type&&"probe"==a.data?(d('probe transport "%s" pong',e),q.upgrading=!0,q.emit("upgrading",l),l&&(b.priorWebsocketSuccess="websocket"==l.name,d('pausing current transport "%s"',q.transport.name),q.transport.pause(function(){r||"closed"==q.readyState||(d("changing transport and sending upgrade packet"),h(),q.setTransport(l),l.send([{type:"upgrade"}]),
    q.emit("upgrade",l),l=null,q.upgrading=!1,q.flush())}))):(d('probe transport "%s" failed',e),a=Error("probe error"),a.transport=l.name,q.emit("upgradeError",a)))}))}function c(){r||(r=!0,h(),l.close(),l=null)}function f(a){var b=Error("probe error: "+a);b.transport=l.name;c();d('probe transport "%s" failed because of error: %s',e,a);q.emit("upgradeError",b)}function m(){f("transport closed")}function g(){f("socket closed")}function n(e){l&&e.name!=l.name&&(d('"%s" works - aborting "%s"',e.name,l.name),
    c())}function h(){l.removeListener("open",a);l.removeListener("error",f);l.removeListener("close",m);q.removeListener("close",g);q.removeListener("upgrading",n)}d('probing transport "%s"',e);var l=this.createTransport(e,{probe:1}),r=!1,q=this;b.priorWebsocketSuccess=!1;l.once("open",a);l.once("error",f);l.once("close",m);this.once("close",g);this.once("upgrading",n);l.open()};b.prototype.onOpen=function(){d("socket open");this.readyState="open";b.priorWebsocketSuccess="websocket"==this.transport.name;
    this.emit("open");this.flush();if("open"==this.readyState&&this.upgrade&&this.transport.pause){d("starting upgrade probes");for(var e=0,a=this.upgrades.length;e<a;e++)this.probe(this.upgrades[e])}};b.prototype.onPacket=function(e){if("opening"==this.readyState||"open"==this.readyState)switch(d('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case "open":this.onHandshake(q(e.data));break;case "pong":this.setPing();this.emit("pong");break;case "error":var a=
    Error("server error");a.code=e.data;this.onError(a);break;case "message":this.emit("data",e.data),this.emit("message",e.data)}else d('packet received with socket readyState "%s"',this.readyState)};b.prototype.onHandshake=function(e){this.emit("handshake",e);this.id=e.sid;this.transport.query.sid=e.sid;this.upgrades=this.filterUpgrades(e.upgrades);this.pingInterval=e.pingInterval;this.pingTimeout=e.pingTimeout;this.onOpen();"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",
    this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};b.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var a=this;a.pingTimeoutTimer=setTimeout(function(){if("closed"!=a.readyState)a.onClose("ping timeout")},e||a.pingInterval+a.pingTimeout)};b.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer);e.pingIntervalTimer=setTimeout(function(){d("writing ping packet - expecting pong within %sms",e.pingTimeout);e.ping();e.onHeartbeat(e.pingTimeout)},e.pingInterval)};
    b.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})};b.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen);this.prevBufferLen=0;0===this.writeBuffer.length?this.emit("drain"):this.flush()};b.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(d("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,
        this.emit("flush"))};b.prototype.write=b.prototype.send=function(e,a,b){this.sendPacket("message",e,a,b);return this};b.prototype.sendPacket=function(e,a,b,c){"function"==typeof a&&(c=a,a=void 0);"function"==typeof b&&(c=b,b=null);if("closing"!=this.readyState&&"closed"!=this.readyState){b=b||{};b.compress=!1!==b.compress;e={type:e,data:a,options:b};this.emit("packetCreate",e);this.writeBuffer.push(e);if(c)this.once("flush",c);this.flush()}};b.prototype.close=function(){function e(){c.onClose("forced close");
        d("socket closing - telling transport to close");c.transport.close()}function a(){c.removeListener("upgrade",a);c.removeListener("upgradeError",a);e()}function b(){c.once("upgrade",a);c.once("upgradeError",a)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var c=this;if(this.writeBuffer.length)this.once("drain",function(){this.upgrading?b():e()});else this.upgrading?b():e()}return this};b.prototype.onError=function(e){d("socket error %j",e);b.priorWebsocketSuccess=
        !1;this.emit("error",e);this.onClose("transport error",e)};b.prototype.onClose=function(e,a){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState)d('socket close with reason: "%s"',e),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,a),this.writeBuffer=[],this.prevBufferLen=0};b.prototype.filterUpgrades=
        function(e){for(var a=[],b=0,c=e.length;b<c;b++)~g(this.transports,e[b])&&a.push(e[b]);return a}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{"./transport":4,"./transports":5,"component-emitter":15,debug:17,"engine.io-parser":19,indexof:23,parsejson:26,parseqs:27,parseuri:28}],4:[function(h,k,g){function c(a){this.path=a.path;this.hostname=a.hostname;this.port=a.port;this.secure=a.secure;this.query=a.query;this.timestampParam=
    a.timestampParam;this.timestampRequests=a.timestampRequests;this.readyState="";this.agent=a.agent||!1;this.socket=a.socket;this.enablesXDR=a.enablesXDR;this.pfx=a.pfx;this.key=a.key;this.passphrase=a.passphrase;this.cert=a.cert;this.ca=a.ca;this.ciphers=a.ciphers;this.rejectUnauthorized=a.rejectUnauthorized;this.extraHeaders=a.extraHeaders}var b=h("engine.io-parser");h=h("component-emitter");k.exports=c;h(c.prototype);c.prototype.onError=function(a,b){var c=Error(a);c.type="TransportError";c.description=
    b;this.emit("error",c);return this};c.prototype.open=function(){if("closed"==this.readyState||""==this.readyState)this.readyState="opening",this.doOpen();return this};c.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState)this.doClose(),this.onClose();return this};c.prototype.send=function(a){if("open"==this.readyState)this.write(a);else throw Error("Transport not open");};c.prototype.onOpen=function(){this.readyState="open";this.writable=!0;this.emit("open")};c.prototype.onData=
    function(a){a=b.decodePacket(a,this.socket.binaryType);this.onPacket(a)};c.prototype.onPacket=function(a){this.emit("packet",a)};c.prototype.onClose=function(){this.readyState="closed";this.emit("close")}},{"component-emitter":15,"engine.io-parser":19}],5:[function(h,k,g){(function(c){var b=h("xmlhttprequest-ssl"),a=h("./polling-xhr"),f=h("./polling-jsonp"),d=h("./websocket");g.polling=function(d){var g=!1,h=!1,q=!1!==d.jsonp;c.location&&(h="https:"==location.protocol,(g=location.port)||(g=h?443:
    80),g=d.hostname!=location.hostname||g!=d.port,h=d.secure!=h);d.xdomain=g;d.xscheme=h;if("open"in new b(d)&&!d.forceJSONP)return new a(d);if(!q)throw Error("JSONP disabled");return new f(d)};g.websocket=d}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{"./polling-jsonp":6,"./polling-xhr":7,"./websocket":9,"xmlhttprequest-ssl":10}],6:[function(h,k,g){(function(c){function b(){}function a(a){f.call(this,a);this.query=this.query||
    {};r||(c.___eio||(c.___eio=[]),r=c.___eio);this.index=r.length;var d=this;r.push(function(e){d.onData(e)});this.query.j=this.index;c.document&&c.addEventListener&&c.addEventListener("beforeunload",function(){d.script&&(d.script.onerror=b)},!1)}var f=h("./polling"),d=h("component-inherit");k.exports=a;var g=/\n/g,l=/\\n/g,r;d(a,f);a.prototype.supportsBinary=!1;a.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);this.form&&(this.form.parentNode.removeChild(this.form),
    this.iframe=this.form=null);f.prototype.doClose.call(this)};a.prototype.doPoll=function(){var a=this,b=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);b.async=!0;b.src=this.uri();b.onerror=function(e){a.onError("jsonp poll error",e)};var e=document.getElementsByTagName("script")[0];e?e.parentNode.insertBefore(b,e):(document.head||document.body).appendChild(b);this.script=b;"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&
setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e);document.body.removeChild(e)},100)};a.prototype.doWrite=function(a,b){function e(){c();b()}function c(){if(d.iframe)try{d.form.removeChild(d.iframe)}catch(e){d.onError("jsonp polling iframe removal error",e)}try{G=document.createElement('<iframe src="javascript:0" name="'+d.iframeId+'">')}catch(e){G=document.createElement("iframe"),G.name=d.iframeId,G.src="javascript:0"}G.id=d.iframeId;d.form.appendChild(G);
    d.iframe=G}var d=this;if(!this.form){var f=document.createElement("form"),h=document.createElement("textarea"),r=this.iframeId="eio_iframe_"+this.index,G;f.className="socketio";f.style.position="absolute";f.style.top="-1000px";f.style.left="-1000px";f.target=r;f.method="POST";f.setAttribute("accept-charset","utf-8");h.name="d";f.appendChild(h);document.body.appendChild(f);this.form=f;this.area=h}this.form.action=this.uri();c();a=a.replace(l,"\\\n");this.area.value=a.replace(g,"\\n");try{this.form.submit()}catch(k){}this.iframe.attachEvent?
    this.iframe.onreadystatechange=function(){"complete"==d.iframe.readyState&&e()}:this.iframe.onload=e}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{"./polling":8,"component-inherit":16}],7:[function(h,k,g){(function(c){function b(){}function a(e){l.call(this,e);if(c.location){var a="https:"==location.protocol,b=location.port;b||(b=a?443:80);this.xd=e.hostname!=c.location.hostname||b!=e.port;this.xs=e.secure!=a}else this.extraHeaders=
    e.extraHeaders}function f(e){this.method=e.method||"GET";this.uri=e.uri;this.xd=!!e.xd;this.xs=!!e.xs;this.async=!1!==e.async;this.data=void 0!=e.data?e.data:null;this.agent=e.agent;this.isBinary=e.isBinary;this.supportsBinary=e.supportsBinary;this.enablesXDR=e.enablesXDR;this.pfx=e.pfx;this.key=e.key;this.passphrase=e.passphrase;this.cert=e.cert;this.ca=e.ca;this.ciphers=e.ciphers;this.rejectUnauthorized=e.rejectUnauthorized;this.extraHeaders=e.extraHeaders;this.create()}function d(){for(var e in f.requests)f.requests.hasOwnProperty(e)&&
f.requests[e].abort()}var g=h("xmlhttprequest-ssl"),l=h("./polling"),r=h("component-emitter"),q=h("component-inherit"),m=h("debug")("engine.io-client:polling-xhr");k.exports=a;k.exports.Request=f;q(a,l);a.prototype.supportsBinary=!0;a.prototype.request=function(e){e=e||{};e.uri=this.uri();e.xd=this.xd;e.xs=this.xs;e.agent=this.agent||!1;e.supportsBinary=this.supportsBinary;e.enablesXDR=this.enablesXDR;e.pfx=this.pfx;e.key=this.key;e.passphrase=this.passphrase;e.cert=this.cert;e.ca=this.ca;e.ciphers=
    this.ciphers;e.rejectUnauthorized=this.rejectUnauthorized;e.extraHeaders=this.extraHeaders;return new f(e)};a.prototype.doWrite=function(e,a){var b=this.request({method:"POST",data:e,isBinary:"string"!==typeof e&&void 0!==e}),c=this;b.on("success",a);b.on("error",function(e){c.onError("xhr post error",e)});this.sendXhr=b};a.prototype.doPoll=function(){m("xhr poll");var e=this.request(),a=this;e.on("data",function(e){a.onData(e)});e.on("error",function(e){a.onError("xhr poll error",e)});this.pollXhr=
    e};r(f.prototype);f.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx;e.key=this.key;e.passphrase=this.passphrase;e.cert=this.cert;e.ca=this.ca;e.ciphers=this.ciphers;e.rejectUnauthorized=this.rejectUnauthorized;var a=this.xhr=new g(e),b=this;try{m("xhr open %s: %s",this.method,this.uri);a.open(this.method,this.uri,this.async);try{if(this.extraHeaders){a.setDisableHeaderCheck(!0);for(var d in this.extraHeaders)this.extraHeaders.hasOwnProperty(d)&&
a.setRequestHeader(d,this.extraHeaders[d])}}catch(h){}this.supportsBinary&&(a.responseType="arraybuffer");if("POST"==this.method)try{this.isBinary?a.setRequestHeader("Content-type","application/octet-stream"):a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(h){}"withCredentials"in a&&(a.withCredentials=!0);this.hasXDR()?(a.onload=function(){b.onLoad()},a.onerror=function(){b.onError(a.responseText)}):a.onreadystatechange=function(){if(4==a.readyState)if(200==a.status||1223==a.status)b.onLoad();
else setTimeout(function(){b.onError(a.status)},0)};m("xhr data %s",this.data);a.send(this.data)}catch(h){setTimeout(function(){b.onError(h)},0);return}c.document&&(this.index=f.requestsCount++,f.requests[this.index]=this)};f.prototype.onSuccess=function(){this.emit("success");this.cleanup()};f.prototype.onData=function(e){this.emit("data",e);this.onSuccess()};f.prototype.onError=function(e){this.emit("error",e);this.cleanup(!0)};f.prototype.cleanup=function(e){if("undefined"!=typeof this.xhr&&null!==
    this.xhr){this.hasXDR()?this.xhr.onload=this.xhr.onerror=b:this.xhr.onreadystatechange=b;if(e)try{this.xhr.abort()}catch(a){}c.document&&delete f.requests[this.index];this.xhr=null}};f.prototype.onLoad=function(){var e;try{var a;try{a=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(b){}if("application/octet-stream"===a)e=this.xhr.response;else if(this.supportsBinary)try{e=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(b){var c=new Uint8Array(this.xhr.response);
    a=[];for(var d=0,f=c.length;d<f;d++)a.push(c[d]);e=String.fromCharCode.apply(null,a)}else e=this.xhr.responseText}catch(b){this.onError(b)}if(null!=e)this.onData(e)};f.prototype.hasXDR=function(){return"undefined"!==typeof c.XDomainRequest&&!this.xs&&this.enablesXDR};f.prototype.abort=function(){this.cleanup()};c.document&&(f.requestsCount=0,f.requests={},c.attachEvent?c.attachEvent("onunload",d):c.addEventListener&&c.addEventListener("beforeunload",d,!1))}).call(this,"undefined"!==typeof self?self:
    "undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{"./polling":8,"component-emitter":15,"component-inherit":16,debug:17,"xmlhttprequest-ssl":10}],8:[function(h,k,g){function c(a){var c=a&&a.forceBase64;if(!l||c)this.supportsBinary=!1;b.call(this,a)}var b=h("../transport"),a=h("parseqs"),f=h("engine.io-parser");g=h("component-inherit");var d=h("yeast"),n=h("debug")("engine.io-client:polling");k.exports=c;var l=null!=(new (h("xmlhttprequest-ssl"))({xdomain:!1})).responseType;
    g(c,b);c.prototype.name="polling";c.prototype.doOpen=function(){this.poll()};c.prototype.pause=function(a){function b(){n("paused");c.readyState="paused";a()}var c=this;this.readyState="pausing";if(this.polling||!this.writable){var e=0;this.polling&&(n("we are currently polling - waiting to pause"),e++,this.once("pollComplete",function(){n("pre-pause polling complete");--e||b()}));this.writable||(n("we are currently writing - waiting to pause"),e++,this.once("drain",function(){n("pre-pause writing complete");
        --e||b()}))}else b()};c.prototype.poll=function(){n("polling");this.polling=!0;this.doPoll();this.emit("poll")};c.prototype.onData=function(a){var b=this;n("polling got data %s",a);f.decodePayload(a,this.socket.binaryType,function(a,e,c){if("opening"==b.readyState)b.onOpen();if("close"==a.type)return b.onClose(),!1;b.onPacket(a)});"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():n('ignoring poll - transport state "%s"',this.readyState))};c.prototype.doClose=
        function(){function a(){n("writing close packet");b.write([{type:"close"}])}var b=this;"open"==this.readyState?(n("transport open - closing"),a()):(n("transport not open - deferring close"),this.once("open",a))};c.prototype.write=function(a){var b=this;this.writable=!1;var c=function(){b.writable=!0;b.emit("drain")},b=this;f.encodePayload(a,this.supportsBinary,function(a){b.doWrite(a,c)})};c.prototype.uri=function(){var b=this.query||{},c=this.secure?"https":"http",f="";!1!==this.timestampRequests&&
    (b[this.timestampParam]=d());this.supportsBinary||b.sid||(b.b64=1);b=a.encode(b);this.port&&("https"==c&&443!=this.port||"http"==c&&80!=this.port)&&(f=":"+this.port);b.length&&(b="?"+b);var e=-1!==this.hostname.indexOf(":");return c+"://"+(e?"["+this.hostname+"]":this.hostname)+f+this.path+b}},{"../transport":4,"component-inherit":16,debug:17,"engine.io-parser":19,parseqs:27,"xmlhttprequest-ssl":10,yeast:30}],9:[function(h,k,g){(function(c){function b(e){e&&e.forceBase64&&(this.supportsBinary=!1);
    this.perMessageDeflate=e.perMessageDeflate;a.call(this,e)}var a=h("../transport"),f=h("engine.io-parser"),d=h("parseqs"),g=h("component-inherit"),l=h("yeast"),r=h("debug")("engine.io-client:websocket"),q=c.WebSocket||c.MozWebSocket,m=q;if(!m&&"undefined"===typeof window)try{m=h("ws")}catch(e){}k.exports=b;g(b,a);b.prototype.name="websocket";b.prototype.supportsBinary=!0;b.prototype.doOpen=function(){if(this.check()){var a=this.uri(),b={agent:this.agent,perMessageDeflate:this.perMessageDeflate};b.pfx=
    this.pfx;b.key=this.key;b.passphrase=this.passphrase;b.cert=this.cert;b.ca=this.ca;b.ciphers=this.ciphers;b.rejectUnauthorized=this.rejectUnauthorized;this.extraHeaders&&(b.headers=this.extraHeaders);this.ws=q?new m(a):new m(a,void 0,b);void 0===this.ws.binaryType&&(this.supportsBinary=!1);this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="buffer"):this.ws.binaryType="arraybuffer";this.addEventListeners()}};b.prototype.addEventListeners=function(){var a=this;this.ws.onopen=
    function(){a.onOpen()};this.ws.onclose=function(){a.onClose()};this.ws.onmessage=function(b){a.onData(b.data)};this.ws.onerror=function(b){a.onError("websocket error",b)}};"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(b.prototype.onData=function(e){var b=this;setTimeout(function(){a.prototype.onData.call(b,e)},0)});b.prototype.write=function(a){function b(){d.emit("flush");setTimeout(function(){d.writable=!0;d.emit("drain")},0)}var d=this;this.writable=!1;for(var g=
    a.length,m=0,n=g;m<n;m++)(function(a){f.encodePacket(a,d.supportsBinary,function(e){if(!q){var f={};a.options&&(f.compress=a.options.compress);d.perMessageDeflate&&("string"==typeof e?c.Buffer.byteLength(e):e.length)<d.perMessageDeflate.threshold&&(f.compress=!1)}try{q?d.ws.send(e):d.ws.send(e,f)}catch(m){r("websocket closed before onclose event")}--g||b()})})(a[m])};b.prototype.onClose=function(){a.prototype.onClose.call(this)};b.prototype.doClose=function(){"undefined"!==typeof this.ws&&this.ws.close()};
    b.prototype.uri=function(){var a=this.query||{},b=this.secure?"wss":"ws",c="";this.port&&("wss"==b&&443!=this.port||"ws"==b&&80!=this.port)&&(c=":"+this.port);this.timestampRequests&&(a[this.timestampParam]=l());this.supportsBinary||(a.b64=1);a=d.encode(a);a.length&&(a="?"+a);var f=-1!==this.hostname.indexOf(":");return b+"://"+(f?"["+this.hostname+"]":this.hostname)+c+this.path+a};b.prototype.check=function(){return!!m&&!("__initialize"in m&&this.name===b.prototype.name)}}).call(this,"undefined"!==
typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{"../transport":4,"component-inherit":16,debug:17,"engine.io-parser":19,parseqs:27,ws:void 0,yeast:30}],10:[function(h,k,g){var c=h("has-cors");k.exports=function(b){var a=b.xdomain,f=b.xscheme;b=b.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!a||c))return new XMLHttpRequest}catch(d){}try{if("undefined"!=typeof XDomainRequest&&!f&&b)return new XDomainRequest}catch(d){}if(!a)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(d){}}},
    {"has-cors":22}],11:[function(h,k,g){function c(){}k.exports=function(b,a,f){function d(b,c){if(0>=d.count)throw Error("after called too many times");--d.count;b?(g=!0,a(b),a=f):0!==d.count||g||a(null,c)}var g=!1;f=f||c;d.count=b;return 0===b?a():d}},{}],12:[function(h,k,g){k.exports=function(c,b,a){var f=c.byteLength;b=b||0;a=a||f;if(c.slice)return c.slice(b,a);0>b&&(b+=f);0>a&&(a+=f);a>f&&(a=f);if(b>=f||b>=a||0===f)return new ArrayBuffer(0);c=new Uint8Array(c);for(var f=new Uint8Array(a-b),d=0;b<
a;b++,d++)f[d]=c[b];return f.buffer}},{}],13:[function(h,k,g){(function(c){g.encode=function(b){b=new Uint8Array(b);var a,f=b.length,d="";for(a=0;a<f;a+=3)d+=c[b[a]>>2],d+=c[(b[a]&3)<<4|b[a+1]>>4],d+=c[(b[a+1]&15)<<2|b[a+2]>>6],d+=c[b[a+2]&63];2===f%3?d=d.substring(0,d.length-1)+"=":1===f%3&&(d=d.substring(0,d.length-2)+"==");return d};g.decode=function(b){var a=.75*b.length,f=b.length,d=0,g,h,r,q;"="===b[b.length-1]&&(a--,"="===b[b.length-2]&&a--);for(var m=new ArrayBuffer(a),e=new Uint8Array(m),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                             a=0;a<f;a+=4)g=c.indexOf(b[a]),h=c.indexOf(b[a+1]),r=c.indexOf(b[a+2]),q=c.indexOf(b[a+3]),e[d++]=g<<2|h>>4,e[d++]=(h&15)<<4|r>>2,e[d++]=(r&3)<<6|q&63;return m}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],14:[function(h,k,g){(function(c){function b(a){for(var b=0;b<a.length;b++){var e=a[b];if(e.buffer instanceof ArrayBuffer){var c=e.buffer;if(e.byteLength!==c.byteLength){var d=new Uint8Array(e.byteLength);d.set(new Uint8Array(c,e.byteOffset,e.byteLength));c=d.buffer}a[b]=
    c}}}function a(a,c){c=c||{};var e=new d;b(a);for(var f=0;f<a.length;f++)e.append(a[f]);return c.type?e.getBlob(c.type):e.getBlob()}function f(a,c){b(a);return new Blob(a,c||{})}var d=c.BlobBuilder||c.WebKitBlobBuilder||c.MSBlobBuilder||c.MozBlobBuilder,g;try{g=2===(new Blob(["hi"])).size}catch(h){g=!1}var l;if(l=g)try{l=2===(new Blob([new Uint8Array([1,2])])).size}catch(h){l=!1}var r=d&&d.prototype.append&&d.prototype.getBlob;c=g?l?c.Blob:f:r?a:void 0;k.exports=c}).call(this,"undefined"!==typeof self?
    self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{}],15:[function(h,k,g){function c(b){if(b){for(var a in c.prototype)b[a]=c.prototype[a];return b}}k.exports=c;c.prototype.on=c.prototype.addEventListener=function(b,a){this._callbacks=this._callbacks||{};(this._callbacks[b]=this._callbacks[b]||[]).push(a);return this};c.prototype.once=function(b,a){function c(){d.off(b,c);a.apply(this,arguments)}var d=this;this._callbacks=this._callbacks||{};c.fn=a;this.on(b,c);return this};
    c.prototype.off=c.prototype.removeListener=c.prototype.removeAllListeners=c.prototype.removeEventListener=function(b,a){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var c=this._callbacks[b];if(!c)return this;if(1==arguments.length)return delete this._callbacks[b],this;for(var d,g=0;g<c.length;g++)if(d=c[g],d===a||d.fn===a){c.splice(g,1);break}return this};c.prototype.emit=function(b){this._callbacks=this._callbacks||{};var a=[].slice.call(arguments,1),
        c=this._callbacks[b];if(c)for(var c=c.slice(0),d=0,g=c.length;d<g;++d)c[d].apply(this,a);return this};c.prototype.listeners=function(b){this._callbacks=this._callbacks||{};return this._callbacks[b]||[]};c.prototype.hasListeners=function(b){return!!this.listeners(b).length}},{}],16:[function(h,k,g){k.exports=function(c,b){var a=function(){};a.prototype=b.prototype;c.prototype=new a;c.prototype.constructor=c}},{}],17:[function(h,k,g){function c(){var a;try{a=g.storage.debug}catch(b){}return a}g=k.exports=
    h("./debug");g.log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)};g.formatArgs=function(){var a=arguments,b=this.useColors;a[0]=(b?"%c":"")+this.namespace+(b?" %c":" ")+a[0]+(b?"%c ":" ")+"+"+g.humanize(this.diff);if(!b)return a;var b="color: "+this.color,a=[a[0],b,"color: inherit"].concat(Array.prototype.slice.call(a,1)),c=0,h=0;a[0].replace(/%[a-z%]/g,function(a){"%%"!==a&&(c++,"%c"===a&&(h=c))});a.splice(h,0,b);return a};g.save=
    function(a){try{null==a?g.storage.removeItem("debug"):g.storage.debug=a}catch(b){}};g.load=c;g.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)};var b;if("undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage)b=chrome.storage.local;else a:{try{b=window.localStorage;break a}catch(a){}b=void 0}g.storage=b;g.colors=
    "lightseagreen forestgreen goldenrod dodgerblue darkorchid crimson".split(" ");g.formatters.j=function(a){return JSON.stringify(a)};g.enable(c())},{"./debug":18}],18:[function(h,k,g){g=k.exports=function(a){function f(){}function d(){var a=+new Date;d.diff=a-(b||a);d.prev=b;b=d.curr=a;null==d.useColors&&(d.useColors=g.useColors());null==d.color&&d.useColors&&(d.color=g.colors[c++%g.colors.length]);var f=Array.prototype.slice.call(arguments);f[0]=g.coerce(f[0]);"string"!==typeof f[0]&&(f=["%o"].concat(f));
    var h=0;f[0]=f[0].replace(/%([a-z%])/g,function(a,e){if("%%"===a)return a;h++;var b=g.formatters[e];"function"===typeof b&&(a=b.call(d,f[h]),f.splice(h,1),h--);return a});"function"===typeof g.formatArgs&&(f=g.formatArgs.apply(d,f));(d.log||g.log||console.log.bind(console)).apply(d,f)}f.enabled=!1;d.enabled=!0;var h=g.enabled(a)?d:f;h.namespace=a;return h};g.coerce=function(a){return a instanceof Error?a.stack||a.message:a};g.disable=function(){g.enable("")};g.enable=function(a){g.save(a);for(var b=
    (a||"").split(/[\s,]+/),c=b.length,h=0;h<c;h++)b[h]&&(a=b[h].replace(/\*/g,".*?"),"-"===a[0]?g.skips.push(new RegExp("^"+a.substr(1)+"$")):g.names.push(new RegExp("^"+a+"$")))};g.enabled=function(a){var b,c;b=0;for(c=g.skips.length;b<c;b++)if(g.skips[b].test(a))return!1;b=0;for(c=g.names.length;b<c;b++)if(g.names[b].test(a))return!0;return!1};g.humanize=h("ms");g.names=[];g.skips=[];g.formatters={};var c=0,b},{ms:25}],19:[function(h,k,g){(function(c){function b(a,e,b){if(!e)return g.encodeBase64Packet(a,
    b);var c=new FileReader;c.onload=function(){a.data=c.result;g.encodePacket(a,e,!0,b)};return c.readAsArrayBuffer(a.data)}function a(a,e,b){var c=Array(a.length);b=k(a.length,b);for(var d=function(a,b,d){e(b,function(b,e){c[a]=e;d(b,c)})},f=0;f<a.length;f++)d(f,a[f],b)}var f=h("./keys"),d=h("has-binary"),n=h("arraybuffer.slice"),l=h("base64-arraybuffer"),k=h("after"),q=h("utf8"),m=navigator.userAgent.match(/Android/i),e=/PhantomJS/i.test(navigator.userAgent),u=m||e;g.protocol=3;var v=g.packets={open:0,
    close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},C=f(v),z={type:"error",data:"parser error"},y=h("blob");g.encodePacket=function(a,e,d,f){"function"==typeof e&&(f=e,e=!1);"function"==typeof d&&(f=d,d=null);var h=void 0===a.data?void 0:a.data.buffer||a.data;if(c.ArrayBuffer&&h instanceof ArrayBuffer){if(e){d=a.data;e=new Uint8Array(d);d=new Uint8Array(1+d.byteLength);d[0]=v[a.type];for(a=0;a<e.length;a++)d[a+1]=e[a];a=f(d.buffer)}else a=g.encodeBase64Packet(a,f);return a}if(y&&h instanceof c.Blob)return e?
    u?a=b(a,e,f):(e=new Uint8Array(1),e[0]=v[a.type],a=new y([e.buffer,a.data]),a=f(a)):a=g.encodeBase64Packet(a,f),a;if(h&&h.base64)return f("b"+g.packets[a.type]+a.data.data);e=v[a.type];void 0!==a.data&&(e+=d?q.encode(String(a.data)):String(a.data));return f(""+e)};g.encodeBase64Packet=function(a,e){var b="b"+g.packets[a.type];if(y&&a.data instanceof c.Blob){var d=new FileReader;d.onload=function(){var a=d.result.split(",")[1];e(b+a)};return d.readAsDataURL(a.data)}var f;try{f=String.fromCharCode.apply(null,
    new Uint8Array(a.data))}catch(h){f=new Uint8Array(a.data);for(var m=Array(f.length),l=0;l<f.length;l++)m[l]=f[l];f=String.fromCharCode.apply(null,m)}b+=c.btoa(f);return e(b)};g.decodePacket=function(a,e,b){if("string"==typeof a||void 0===a){if("b"==a.charAt(0))return g.decodeBase64Packet(a.substr(1),e);if(b)try{a=q.decode(a)}catch(c){return z}b=a.charAt(0);return Number(b)==b&&C[b]?1<a.length?{type:C[b],data:a.substring(1)}:{type:C[b]}:z}b=(new Uint8Array(a))[0];a=n(a,1);y&&"blob"===e&&(a=new y([a]));
    return{type:C[b],data:a}};g.decodeBase64Packet=function(a,e){var b=C[a.charAt(0)];if(!c.ArrayBuffer)return{type:b,data:{base64:!0,data:a.substr(1)}};var d=l.decode(a.substr(1));"blob"===e&&y&&(d=new y([d]));return{type:b,data:d}};g.encodePayload=function(e,b,c){"function"==typeof b&&(c=b,b=null);var f=d(e);if(b&&f)return y&&!u?g.encodePayloadAsBlob(e,c):g.encodePayloadAsArrayBuffer(e,c);if(!e.length)return c("0:");a(e,function(a,e){g.encodePacket(a,f?b:!1,!0,function(a){e(null,a.length+":"+a)})},
    function(a,e){return c(e.join(""))})};g.decodePayload=function(a,e,b){if("string"!=typeof a)return g.decodePayloadAsBinary(a,e,b);"function"===typeof e&&(b=e,e=null);var c;if(""==a)return b(z,0,1);c="";for(var d,f,h=0,m=a.length;h<m;h++)if(f=a.charAt(h),":"!=f)c+=f;else{if(""==c||c!=(d=Number(c)))return b(z,0,1);f=a.substr(h+1,d);if(c!=f.length)return b(z,0,1);if(f.length){c=g.decodePacket(f,e,!0);if(z.type==c.type&&z.data==c.data)return b(z,0,1);if(!1===b(c,h+d,m))return}h+=d;c=""}if(""!=c)return b(z,
    0,1)};g.encodePayloadAsArrayBuffer=function(e,b){if(!e.length)return b(new ArrayBuffer(0));a(e,function(a,e){g.encodePacket(a,!0,!0,function(a){return e(null,a)})},function(a,e){var c=e.reduce(function(a,e){var b;b="string"===typeof e?e.length:e.byteLength;return a+b.toString().length+b+2},0),d=new Uint8Array(c),f=0;e.forEach(function(a){var e="string"===typeof a,b=a;if(e){for(var b=new Uint8Array(a.length),c=0;c<a.length;c++)b[c]=a.charCodeAt(c);b=b.buffer}e?d[f++]=0:d[f++]=1;a=b.byteLength.toString();
    for(c=0;c<a.length;c++)d[f++]=parseInt(a[c]);d[f++]=255;b=new Uint8Array(b);for(c=0;c<b.length;c++)d[f++]=b[c]});return b(d.buffer)})};g.encodePayloadAsBlob=function(e,b){a(e,function(a,e){g.encodePacket(a,!0,!0,function(a){var b=new Uint8Array(1);b[0]=1;if("string"===typeof a){for(var c=new Uint8Array(a.length),d=0;d<a.length;d++)c[d]=a.charCodeAt(d);a=c.buffer;b[0]=0}for(var c=(a instanceof ArrayBuffer?a.byteLength:a.size).toString(),f=new Uint8Array(c.length+1),d=0;d<c.length;d++)f[d]=parseInt(c[d]);
    f[c.length]=255;y&&(a=new y([b.buffer,f.buffer,a]),e(null,a))})},function(a,e){return b(new y(e))})};g.decodePayloadAsBinary=function(a,e,b){"function"===typeof e&&(b=e,e=null);for(var c=[],d=!1;0<a.byteLength;){for(var f=new Uint8Array(a),h=0===f[0],m="",l=1;255!=f[l];l++){if(310<m.length){d=!0;break}m+=f[l]}if(d)return b(z,0,1);a=n(a,2+m.length);m=parseInt(m);f=n(a,0,m);if(h)try{f=String.fromCharCode.apply(null,new Uint8Array(f))}catch(k){for(h=new Uint8Array(f),f="",l=0;l<h.length;l++)f+=String.fromCharCode(h[l])}c.push(f);
    a=n(a,m)}var u=c.length;c.forEach(function(a,c){b(g.decodePacket(a,e,!0),c,u)})}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{"./keys":20,after:11,"arraybuffer.slice":12,"base64-arraybuffer":13,blob:14,"has-binary":21,utf8:29}],20:[function(h,k,g){k.exports=Object.keys||function(c){var b=[],a=Object.prototype.hasOwnProperty,f;for(f in c)a.call(c,f)&&b.push(f);return b}},{}],21:[function(h,k,g){(function(c){var b=h("isarray");
    k.exports=function(a){function f(a){if(!a)return!1;if(c.Buffer&&c.Buffer.isBuffer(a)||c.ArrayBuffer&&a instanceof ArrayBuffer||c.Blob&&a instanceof Blob||c.File&&a instanceof File)return!0;if(b(a))for(var g=0;g<a.length;g++){if(f(a[g]))return!0}else if(a&&"object"==typeof a)for(g in a.toJSON&&(a=a.toJSON()),a)if(Object.prototype.hasOwnProperty.call(a,g)&&f(a[g]))return!0;return!1}return f(a)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?
    global:{})},{isarray:24}],22:[function(h,k,g){try{k.exports="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(c){k.exports=!1}},{}],23:[function(h,k,g){var c=[].indexOf;k.exports=function(b,a){if(c)return b.indexOf(a);for(var f=0;f<b.length;++f)if(b[f]===a)return f;return-1}},{}],24:[function(h,k,g){k.exports=Array.isArray||function(c){return"[object Array]"==Object.prototype.toString.call(c)}},{}],25:[function(h,k,g){function c(a){a=""+a;if(!(1E4<a.length)&&(a=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(a))){var b=
    parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case "years":case "year":case "yrs":case "yr":case "y":return 315576E5*b;case "days":case "day":case "d":return 864E5*b;case "hours":case "hour":case "hrs":case "hr":case "h":return 36E5*b;case "minutes":case "minute":case "mins":case "min":case "m":return 6E4*b;case "seconds":case "second":case "secs":case "sec":case "s":return 1E3*b;case "milliseconds":case "millisecond":case "msecs":case "msec":case "ms":return b}}}function b(a,b,c){if(!(a<b))return a<
1.5*b?Math.floor(a/b)+" "+c:Math.ceil(a/b)+" "+c+"s"}k.exports=function(a,f){f=f||{};return"string"==typeof a?c(a):f.long?b(a,864E5,"day")||b(a,36E5,"hour")||b(a,6E4,"minute")||b(a,1E3,"second")||a+" ms":864E5<=a?Math.round(a/864E5)+"d":36E5<=a?Math.round(a/36E5)+"h":6E4<=a?Math.round(a/6E4)+"m":1E3<=a?Math.round(a/1E3)+"s":a+"ms"}},{}],26:[function(h,k,g){(function(c){var b=/^[\],:{}\s]*$/,a=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,f=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
    d=/(?:^|:|,)(?:\s*\[)+/g,g=/^\s+/,h=/\s+$/;k.exports=function(k){if("string"!=typeof k||!k)return null;k=k.replace(g,"").replace(h,"");if(c.JSON&&JSON.parse)return JSON.parse(k);if(b.test(k.replace(a,"@").replace(f,"]").replace(d,"")))return(new Function("return "+k))()}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{}],27:[function(h,k,g){g.encode=function(c){var b="",a;for(a in c)c.hasOwnProperty(a)&&(b.length&&(b+="&"),b+=
    encodeURIComponent(a)+"="+encodeURIComponent(c[a]));return b};g.decode=function(c){var b={};c=c.split("&");for(var a=0,f=c.length;a<f;a++){var d=c[a].split("=");b[decodeURIComponent(d[0])]=decodeURIComponent(d[1])}return b}},{}],28:[function(h,k,g){var c=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,b="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");
    k.exports=function(a){var f=a,d=a.indexOf("["),g=a.indexOf("]");-1!=d&&-1!=g&&(a=a.substring(0,d)+a.substring(d,g).replace(/:/g,";")+a.substring(g,a.length));a=c.exec(a||"");for(var h={},k=14;k--;)h[b[k]]=a[k]||"";-1!=d&&-1!=g&&(h.source=f,h.host=h.host.substring(1,h.host.length-1).replace(/;/g,":"),h.authority=h.authority.replace("[","").replace("]","").replace(/;/g,":"),h.ipv6uri=!0);return h}},{}],29:[function(h,k,g){(function(c){(function(b){function a(a){for(var b=[],e=0,c=a.length,d,f;e<c;)d=
    a.charCodeAt(e++),55296<=d&&56319>=d&&e<c?(f=a.charCodeAt(e++),56320==(f&64512)?b.push(((d&1023)<<10)+(f&1023)+65536):(b.push(d),e--)):b.push(d);return b}function f(a){if(55296<=a&&57343>=a)throw Error("Lone surrogate U+"+a.toString(16).toUpperCase()+" is not a scalar value");}function d(){if(v>=u)throw Error("Invalid byte index");var a=e[v]&255;v++;if(128==(a&192))return a&63;throw Error("Invalid continuation byte");}function h(){var a,b,c,g;if(v>u)throw Error("Invalid byte index");if(v==u)return!1;
    a=e[v]&255;v++;if(0==(a&128))return a;if(192==(a&224)){b=d();a=(a&31)<<6|b;if(128<=a)return a;throw Error("Invalid continuation byte");}if(224==(a&240)){b=d();c=d();a=(a&15)<<12|b<<6|c;if(2048<=a)return f(a),a;throw Error("Invalid continuation byte");}if(240==(a&248)&&(b=d(),c=d(),g=d(),a=(a&15)<<18|b<<12|c<<6|g,65536<=a&&1114111>=a))return a;throw Error("Invalid UTF-8 detected");}var l="object"==typeof g&&g,r="object"==typeof k&&k&&k.exports==l&&k,q="object"==typeof c&&c;if(q.global===q||q.window===
    q)b=q;var m=String.fromCharCode,e,u,v,q={version:"2.0.0",encode:function(b){b=a(b);for(var e=b.length,c=-1,d,g="";++c<e;){d=b[c];if(0==(d&4294967168))d=m(d);else{var h="";0==(d&4294965248)?h=m(d>>6&31|192):0==(d&4294901760)?(f(d),h=m(d>>12&15|224),h+=m(d>>6&63|128)):0==(d&4292870144)&&(h=m(d>>18&7|240),h+=m(d>>12&63|128),h+=m(d>>6&63|128));d=h+=m(d&63|128)}g+=d}return g},decode:function(b){e=a(b);u=e.length;v=0;b=[];for(var c;!1!==(c=h());)b.push(c);c=b.length;for(var d=-1,f,g="";++d<c;)f=b[d],65535<
f&&(f-=65536,g+=m(f>>>10&1023|55296),f=56320|f&1023),g+=m(f);return g}};if(l&&!l.nodeType)if(r)r.exports=q;else{b={}.hasOwnProperty;for(var C in q)b.call(q,C)&&(l[C]=q[C])}else b.utf8=q})(this)}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{}],30:[function(h,k,g){function c(b){var c="";do c=a[b%64]+c,b=Math.floor(b/64);while(0<b);return c}function b(){var a=c(+new Date);return a!==l?(d=0,l=a):a+"."+c(d++)}for(var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         f={},d=0,n=0,l;64>n;n++)f[a[n]]=n;b.encode=c;b.decode=function(a){var b=0;for(n=0;n<a.length;n++)b=64*b+f[a.charAt(n)];return b};k.exports=b},{}],31:[function(h,k,g){function c(a,c){"object"==typeof a&&(c=a,a=void 0);c=c||{};var g=b(a),h=g.source,e=g.id,k=g.path,k=n[e]&&k in n[e].nsps;c.forceNew||c["force new connection"]||!1===c.multiplex||k?(d("ignoring socket cache for %s",h),h=f(h,c)):(n[e]||(d("new io instance for %s",h),n[e]=f(h,c)),h=n[e]);return h.socket(g.path)}var b=h("./url"),a=h("socket.io-parser"),
    f=h("./manager"),d=h("debug")("socket.io-client");k.exports=g=c;var n=g.managers={};g.protocol=a.protocol;g.connect=c;g.Manager=h("./manager");g.Socket=h("./socket")},{"./manager":32,"./socket":34,"./url":35,debug:39,"socket.io-parser":47}],32:[function(h,k,g){function c(a,b){if(!(this instanceof c))return new c(a,b);a&&"object"==typeof a&&(b=a,a=void 0);b=b||{};b.path=b.path||"/socket.io";this.nsps={};this.subs=[];this.opts=b;this.reconnection(!1!==b.reconnection);this.reconnectionAttempts(b.reconnectionAttempts||
    Infinity);this.reconnectionDelay(b.reconnectionDelay||1E3);this.reconnectionDelayMax(b.reconnectionDelayMax||5E3);this.randomizationFactor(b.randomizationFactor||.5);this.backoff=new q({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()});this.timeout(null==b.timeout?2E4:b.timeout);this.readyState="closed";this.uri=a;this.connecting=[];this.lastPing=null;this.encoding=!1;this.packetBuffer=[];this.encoder=new f.Encoder;this.decoder=new f.Decoder;(this.autoConnect=
    !1!==b.autoConnect)&&this.open()}var b=h("engine.io-client"),a=h("./socket");g=h("component-emitter");var f=h("socket.io-parser"),d=h("./on"),n=h("component-bind"),l=h("debug")("socket.io-client:manager"),r=h("indexof"),q=h("backo2"),m=Object.prototype.hasOwnProperty;k.exports=c;c.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var a in this.nsps)m.call(this.nsps,a)&&this.nsps[a].emit.apply(this.nsps[a],arguments)};c.prototype.updateSocketIds=function(){for(var a in this.nsps)m.call(this.nsps,
    a)&&(this.nsps[a].id=this.engine.id)};g(c.prototype);c.prototype.reconnection=function(a){if(!arguments.length)return this._reconnection;this._reconnection=!!a;return this};c.prototype.reconnectionAttempts=function(a){if(!arguments.length)return this._reconnectionAttempts;this._reconnectionAttempts=a;return this};c.prototype.reconnectionDelay=function(a){if(!arguments.length)return this._reconnectionDelay;this._reconnectionDelay=a;this.backoff&&this.backoff.setMin(a);return this};c.prototype.randomizationFactor=
    function(a){if(!arguments.length)return this._randomizationFactor;this._randomizationFactor=a;this.backoff&&this.backoff.setJitter(a);return this};c.prototype.reconnectionDelayMax=function(a){if(!arguments.length)return this._reconnectionDelayMax;this._reconnectionDelayMax=a;this.backoff&&this.backoff.setMax(a);return this};c.prototype.timeout=function(a){if(!arguments.length)return this._timeout;this._timeout=a;return this};c.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&
0===this.backoff.attempts&&this.reconnect()};c.prototype.open=c.prototype.connect=function(a){l("readyState %s",this.readyState);if(~this.readyState.indexOf("open"))return this;l("opening %s",this.uri);var c=this.engine=b(this.uri,this.opts),f=this;this.readyState="opening";this.skipReconnect=!1;var g=d(c,"open",function(){f.onopen();a&&a()}),h=d(c,"error",function(b){l("connect_error");f.cleanup();f.readyState="closed";f.emitAll("connect_error",b);if(a){var c=Error("Connection error");c.data=b;a(c)}else f.maybeReconnectOnOpen()});
    if(!1!==this._timeout){var m=this._timeout;l("connect attempt will timeout after %d",m);var k=setTimeout(function(){l("connect attempt timed out after %d",m);g.destroy();c.close();c.emit("error","timeout");f.emitAll("connect_timeout",m)},m);this.subs.push({destroy:function(){clearTimeout(k)}})}this.subs.push(g);this.subs.push(h);return this};c.prototype.onopen=function(){l("open");this.cleanup();this.readyState="open";this.emit("open");var a=this.engine;this.subs.push(d(a,"data",n(this,"ondata")));
    this.subs.push(d(a,"ping",n(this,"onping")));this.subs.push(d(a,"pong",n(this,"onpong")));this.subs.push(d(a,"error",n(this,"onerror")));this.subs.push(d(a,"close",n(this,"onclose")));this.subs.push(d(this.decoder,"decoded",n(this,"ondecoded")))};c.prototype.onping=function(){this.lastPing=new Date;this.emitAll("ping")};c.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)};c.prototype.ondata=function(a){this.decoder.add(a)};c.prototype.ondecoded=function(a){this.emit("packet",
    a)};c.prototype.onerror=function(a){l("error",a);this.emitAll("error",a)};c.prototype.socket=function(b){function c(){~r(f.connecting,d)||f.connecting.push(d)}var d=this.nsps[b];if(!d){d=new a(this,b);this.nsps[b]=d;var f=this;d.on("connecting",c);d.on("connect",function(){d.id=f.engine.id});this.autoConnect&&c()}return d};c.prototype.destroy=function(a){a=r(this.connecting,a);~a&&this.connecting.splice(a,1);this.connecting.length||this.close()};c.prototype.packet=function(a){l("writing packet %j",
    a);var b=this;b.encoding?b.packetBuffer.push(a):(b.encoding=!0,this.encoder.encode(a,function(c){for(var d=0;d<c.length;d++)b.engine.write(c[d],a.options);b.encoding=!1;b.processPacketQueue()}))};c.prototype.processPacketQueue=function(){if(0<this.packetBuffer.length&&!this.encoding){var a=this.packetBuffer.shift();this.packet(a)}};c.prototype.cleanup=function(){l("cleanup");for(var a;a=this.subs.shift();)a.destroy();this.packetBuffer=[];this.encoding=!1;this.lastPing=null;this.decoder.destroy()};
    c.prototype.close=c.prototype.disconnect=function(){l("disconnect");this.skipReconnect=!0;this.reconnecting=!1;"opening"==this.readyState&&this.cleanup();this.backoff.reset();this.readyState="closed";this.engine&&this.engine.close()};c.prototype.onclose=function(a){l("onclose");this.cleanup();this.backoff.reset();this.readyState="closed";this.emit("close",a);this._reconnection&&!this.skipReconnect&&this.reconnect()};c.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;
        var a=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var b=this.backoff.duration();l("will wait %dms before reconnect attempt",b);this.reconnecting=!0;var c=setTimeout(function(){a.skipReconnect||(l("attempting reconnect"),a.emitAll("reconnect_attempt",a.backoff.attempts),a.emitAll("reconnecting",a.backoff.attempts),a.skipReconnect||a.open(function(b){b?(l("reconnect attempt error"),a.reconnecting=
            !1,a.reconnect(),a.emitAll("reconnect_error",b.data)):(l("reconnect success"),a.onreconnect())}))},b);this.subs.push({destroy:function(){clearTimeout(c)}})}};c.prototype.onreconnect=function(){var a=this.backoff.attempts;this.reconnecting=!1;this.backoff.reset();this.updateSocketIds();this.emitAll("reconnect",a)}},{"./on":33,"./socket":34,backo2:36,"component-bind":37,"component-emitter":38,debug:39,"engine.io-client":1,indexof:42,"socket.io-parser":47}],33:[function(h,k,g){k.exports=function(c,b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              a){c.on(b,a);return{destroy:function(){c.removeListener(b,a)}}}},{}],34:[function(h,k,g){function c(a,b){this.io=a;this.nsp=b;this.json=this;this.ids=0;this.acks={};this.receiveBuffer=[];this.sendBuffer=[];this.connected=!1;this.disconnected=!0;this.io.autoConnect&&this.open()}var b=h("socket.io-parser");g=h("component-emitter");var a=h("to-array"),f=h("./on"),d=h("component-bind"),n=h("debug")("socket.io-client:socket"),l=h("has-binary");k.exports=c;var r={connect:1,connect_error:1,connect_timeout:1,
    connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},q=g.prototype.emit;g(c.prototype);c.prototype.subEvents=function(){if(!this.subs){var a=this.io;this.subs=[f(a,"open",d(this,"onopen")),f(a,"packet",d(this,"onpacket")),f(a,"close",d(this,"onclose"))]}};c.prototype.open=c.prototype.connect=function(){if(this.connected)return this;this.subEvents();this.io.open();if("open"==this.io.readyState)this.onopen();this.emit("connecting");
    return this};c.prototype.send=function(){var b=a(arguments);b.unshift("message");this.emit.apply(this,b);return this};c.prototype.emit=function(c){if(r.hasOwnProperty(c))return q.apply(this,arguments),this;var e=a(arguments),d=b.EVENT;l(e)&&(d=b.BINARY_EVENT);d={type:d,data:e,options:{}};d.options.compress=!this.flags||!1!==this.flags.compress;"function"==typeof e[e.length-1]&&(n("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),d.id=this.ids++);this.connected?this.packet(d):
    this.sendBuffer.push(d);delete this.flags;return this};c.prototype.packet=function(a){a.nsp=this.nsp;this.io.packet(a)};c.prototype.onopen=function(){n("transport is open - connecting");"/"!=this.nsp&&this.packet({type:b.CONNECT})};c.prototype.onclose=function(a){n("close (%s)",a);this.connected=!1;this.disconnected=!0;delete this.id;this.emit("disconnect",a)};c.prototype.onpacket=function(a){if(a.nsp==this.nsp)switch(a.type){case b.CONNECT:this.onconnect();break;case b.EVENT:this.onevent(a);break;
    case b.BINARY_EVENT:this.onevent(a);break;case b.ACK:this.onack(a);break;case b.BINARY_ACK:this.onack(a);break;case b.DISCONNECT:this.ondisconnect();break;case b.ERROR:this.emit("error",a.data)}};c.prototype.onevent=function(a){var b=a.data||[];n("emitting event %j",b);null!=a.id&&(n("attaching ack callback to event"),b.push(this.ack(a.id)));this.connected?q.apply(this,b):this.receiveBuffer.push(b)};c.prototype.ack=function(c){var e=this,d=!1;return function(){if(!d){d=!0;var f=a(arguments);n("sending ack %j",
    f);var g=l(f)?b.BINARY_ACK:b.ACK;e.packet({type:g,id:c,data:f})}}};c.prototype.onack=function(a){var b=this.acks[a.id];"function"==typeof b?(n("calling ack %s with %j",a.id,a.data),b.apply(this,a.data),delete this.acks[a.id]):n("bad ack %s",a.id)};c.prototype.onconnect=function(){this.connected=!0;this.disconnected=!1;this.emit("connect");this.emitBuffered()};c.prototype.emitBuffered=function(){var a;for(a=0;a<this.receiveBuffer.length;a++)q.apply(this,this.receiveBuffer[a]);this.receiveBuffer=[];
    for(a=0;a<this.sendBuffer.length;a++)this.packet(this.sendBuffer[a]);this.sendBuffer=[]};c.prototype.ondisconnect=function(){n("server disconnect (%s)",this.nsp);this.destroy();this.onclose("io server disconnect")};c.prototype.destroy=function(){if(this.subs){for(var a=0;a<this.subs.length;a++)this.subs[a].destroy();this.subs=null}this.io.destroy(this)};c.prototype.close=c.prototype.disconnect=function(){this.connected&&(n("performing disconnect (%s)",this.nsp),this.packet({type:b.DISCONNECT}));this.destroy();
    if(this.connected)this.onclose("io client disconnect");return this};c.prototype.compress=function(a){this.flags=this.flags||{};this.flags.compress=a;return this}},{"./on":33,"component-bind":37,"component-emitter":38,debug:39,"has-binary":41,"socket.io-parser":47,"to-array":51}],35:[function(h,k,g){(function(c){var b=h("parseuri"),a=h("debug")("socket.io-client:url");k.exports=function(f,d){var g=f;d=d||c.location;null==f&&(f=d.protocol+"//"+d.host);"string"==typeof f&&("/"==f.charAt(0)&&(f="/"==
f.charAt(1)?d.protocol+f:d.host+f),/^(https?|wss?):\/\//.test(f)||(a("protocol-less url %s",f),f="undefined"!=typeof d?d.protocol+"//"+f:"https://"+f),a("parse %s",f),g=b(f));g.port||(/^(http|ws)$/.test(g.protocol)?g.port="80":/^(http|ws)s$/.test(g.protocol)&&(g.port="443"));g.path=g.path||"/";var h=-1!==g.host.indexOf(":")?"["+g.host+"]":g.host;g.id=g.protocol+"://"+h+":"+g.port;g.href=g.protocol+"://"+h+(d&&d.port==g.port?"":":"+g.port);return g}}).call(this,"undefined"!==typeof self?self:"undefined"!==
typeof window?window:"undefined"!==typeof global?global:{})},{debug:39,parseuri:45}],36:[function(h,k,g){function c(b){b=b||{};this.ms=b.min||100;this.max=b.max||1E4;this.factor=b.factor||2;this.jitter=0<b.jitter&&1>=b.jitter?b.jitter:0;this.attempts=0}k.exports=c;c.prototype.duration=function(){var b=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter)var a=Math.random(),c=Math.floor(a*this.jitter*b),b=0==(Math.floor(10*a)&1)?b-c:b+c;return Math.min(b,this.max)|0};c.prototype.reset=function(){this.attempts=
    0};c.prototype.setMin=function(b){this.ms=b};c.prototype.setMax=function(b){this.max=b};c.prototype.setJitter=function(b){this.jitter=b}},{}],37:[function(h,k,g){var c=[].slice;k.exports=function(b,a){"string"==typeof a&&(a=b[a]);if("function"!=typeof a)throw Error("bind() requires a function");var f=c.call(arguments,2);return function(){return a.apply(b,f.concat(c.call(arguments)))}}},{}],38:[function(h,k,g){function c(b){if(b){for(var a in c.prototype)b[a]=c.prototype[a];return b}}k.exports=c;c.prototype.on=
    c.prototype.addEventListener=function(b,a){this._callbacks=this._callbacks||{};(this._callbacks["$"+b]=this._callbacks["$"+b]||[]).push(a);return this};c.prototype.once=function(b,a){function c(){this.off(b,c);a.apply(this,arguments)}c.fn=a;this.on(b,c);return this};c.prototype.off=c.prototype.removeListener=c.prototype.removeAllListeners=c.prototype.removeEventListener=function(b,a){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var c=this._callbacks["$"+
b];if(!c)return this;if(1==arguments.length)return delete this._callbacks["$"+b],this;for(var d,g=0;g<c.length;g++)if(d=c[g],d===a||d.fn===a){c.splice(g,1);break}return this};c.prototype.emit=function(b){this._callbacks=this._callbacks||{};var a=[].slice.call(arguments,1),c=this._callbacks["$"+b];if(c)for(var c=c.slice(0),d=0,g=c.length;d<g;++d)c[d].apply(this,a);return this};c.prototype.listeners=function(b){this._callbacks=this._callbacks||{};return this._callbacks["$"+b]||[]};c.prototype.hasListeners=
    function(b){return!!this.listeners(b).length}},{}],39:[function(h,k,g){arguments[4][17][0].apply(g,arguments)},{"./debug":40,dup:17}],40:[function(h,k,g){arguments[4][18][0].apply(g,arguments)},{dup:18,ms:44}],41:[function(h,k,g){(function(c){var b=h("isarray");k.exports=function(a){function f(a){if(!a)return!1;if(c.Buffer&&c.Buffer.isBuffer&&c.Buffer.isBuffer(a)||c.ArrayBuffer&&a instanceof ArrayBuffer||c.Blob&&a instanceof Blob||c.File&&a instanceof File)return!0;if(b(a))for(var g=0;g<a.length;g++){if(f(a[g]))return!0}else if(a&&
    "object"==typeof a)for(g in a.toJSON&&"function"==typeof a.toJSON&&(a=a.toJSON()),a)if(Object.prototype.hasOwnProperty.call(a,g)&&f(a[g]))return!0;return!1}return f(a)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{isarray:43}],42:[function(h,k,g){arguments[4][23][0].apply(g,arguments)},{dup:23}],43:[function(h,k,g){arguments[4][24][0].apply(g,arguments)},{dup:24}],44:[function(h,k,g){arguments[4][25][0].apply(g,arguments)},
    {dup:25}],45:[function(h,k,g){arguments[4][28][0].apply(g,arguments)},{dup:28}],46:[function(h,k,g){(function(c){var b=h("isarray"),a=h("./is-buffer");g.deconstructPacket=function(c){function d(c){if(!c)return c;if(a(c)){var f={_placeholder:!0,num:g.length};g.push(c);return f}if(b(c)){for(var f=Array(c.length),h=0;h<c.length;h++)f[h]=d(c[h]);return f}if("object"==typeof c&&!(c instanceof Date)){f={};for(h in c)f[h]=d(c[h]);return f}return c}var g=[];c.data=d(c.data);c.attachments=g.length;return{packet:c,
    buffers:g}};g.reconstructPacket=function(a,c){function g(a){if(a&&a._placeholder)return c[a.num];if(b(a))for(var f=0;f<a.length;f++)a[f]=g(a[f]);else if(a&&"object"==typeof a)for(f in a)a[f]=g(a[f]);return a}a.data=g(a.data);a.attachments=void 0;return a};g.removeBlobs=function(g,d){function h(g,f,e){if(!g)return g;if(c.Blob&&g instanceof Blob||c.File&&g instanceof File){k++;var u=new FileReader;u.onload=function(){e?e[f]=this.result:r=this.result;--k||d(r)};u.readAsArrayBuffer(g)}else if(b(g))for(u=
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               0;u<g.length;u++)h(g[u],u,g);else if(g&&"object"==typeof g&&!a(g))for(u in g)h(g[u],u,g)}var k=0,r=g;h(r);k||d(r)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{"./is-buffer":48,isarray:43}],47:[function(h,k,g){function c(){}function b(a){var b,c=!1;b=""+a.type;if(g.BINARY_EVENT==a.type||g.BINARY_ACK==a.type)b+=a.attachments,b+="-";a.nsp&&"/"!=a.nsp&&(c=!0,b+=a.nsp);null!=a.id&&(c&&(b+=",",c=!1),b+=a.id);null!=a.data&&(c&&(b+=
    ","),b+=l.stringify(a.data));n("encoded %j as %s",a,b);return b}function a(a,c){r.removeBlobs(a,function(a){var d=r.deconstructPacket(a);a=b(d.packet);d=d.buffers;d.unshift(a);c(d)})}function f(){this.reconstructor=null}function d(a){this.reconPack=a;this.buffers=[]}var n=h("debug")("socket.io-parser"),l=h("json3");h("isarray");k=h("component-emitter");var r=h("./binary"),q=h("./is-buffer");g.protocol=4;g.types="CONNECT DISCONNECT EVENT BINARY_EVENT ACK BINARY_ACK ERROR".split(" ");g.CONNECT=0;g.DISCONNECT=
    1;g.EVENT=2;g.ACK=3;g.ERROR=4;g.BINARY_EVENT=5;g.BINARY_ACK=6;g.Encoder=c;g.Decoder=f;c.prototype.encode=function(c,e){n("encoding packet %j",c);if(g.BINARY_EVENT==c.type||g.BINARY_ACK==c.type)a(c,e);else{var d=b(c);e([d])}};k(f.prototype);f.prototype.add=function(a){if("string"==typeof a){a:{var b={},c=0;b.type=Number(a.charAt(0));if(null==g.types[b.type])a={type:g.ERROR,data:"parser error"};else{if(g.BINARY_EVENT==b.type||g.BINARY_ACK==b.type){for(var f="";"-"!=a.charAt(++c)&&(f+=a.charAt(c),c!=
a.length););if(f!=Number(f)||"-"!=a.charAt(c))throw Error("Illegal attachments");b.attachments=Number(f)}if("/"==a.charAt(c+1))for(b.nsp="";++c;){f=a.charAt(c);if(","==f)break;b.nsp+=f;if(c==a.length)break}else b.nsp="/";f=a.charAt(c+1);if(""!==f&&Number(f)==f){for(b.id="";++c;){f=a.charAt(c);if(null==f||Number(f)!=f){--c;break}b.id+=a.charAt(c);if(c==a.length)break}b.id=Number(b.id)}if(a.charAt(++c))try{b.data=l.parse(a.substr(c))}catch(h){a={type:g.ERROR,data:"parser error"};break a}n("decoded %s as %j",
    a,b);a=b}}g.BINARY_EVENT==a.type||g.BINARY_ACK==a.type?(this.reconstructor=new d(a),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",a)):this.emit("decoded",a)}else if(q(a)||a.base64)if(this.reconstructor){if(a=this.reconstructor.takeBinaryData(a))this.reconstructor=null,this.emit("decoded",a)}else throw Error("got binary data when not reconstructing a packet");else throw Error("Unknown type: "+a);};f.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};
    d.prototype.takeBinaryData=function(a){this.buffers.push(a);return this.buffers.length==this.reconPack.attachments?(a=r.reconstructPacket(this.reconPack,this.buffers),this.finishedReconstruction(),a):null};d.prototype.finishedReconstruction=function(){this.reconPack=null;this.buffers=[]}},{"./binary":46,"./is-buffer":48,"component-emitter":49,debug:39,isarray:43,json3:50}],48:[function(h,k,g){(function(c){k.exports=function(b){return c.Buffer&&c.Buffer.isBuffer(b)||c.ArrayBuffer&&b instanceof ArrayBuffer}}).call(this,
    "undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{}],49:[function(h,k,g){arguments[4][15][0].apply(g,arguments)},{dup:15}],50:[function(h,k,g){(function(c){(function(){function b(c,g){function f(a){if(f[a]!==A)return f[a];var b;if("bug-string-char-index"==a)b="a"!="a"[0];else if("json"==a)b=f("json-stringify")&&f("json-parse");else{var c;if("json-stringify"==a){b=g.stringify;var d="function"==typeof b&&B;if(d){(c=function(){return 1}).toJSON=
    c;try{d="0"===b(0)&&"0"===b(new h)&&'""'==b(new k)&&b(w)===A&&b(A)===A&&b()===A&&"1"===b(c)&&"[1]"==b([c])&&"[null]"==b([A])&&"null"==b(null)&&"[null,null,null]"==b([A,w,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==b({a:[c,!0,!1,null,"\x00\b\n\f\r\t"]})&&"1"===b(null,c)&&"[\n 1,\n 2\n]"==b([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==b(new m(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==b(new m(864E13))&&'"-000001-01-01T00:00:00.000Z"'==b(new m(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==
    b(new m(-1))}catch(e){d=!1}}b=d}if("json-parse"==a){b=g.parse;if("function"==typeof b)try{if(0===b("0")&&!b(!1)){c=b('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var l=5==c.a.length&&1===c.a[0];if(l){try{l=!b('"\t"')}catch(e){}if(l)try{l=1!==b("01")}catch(e){}if(l)try{l=1!==b("1.")}catch(e){}}}}catch(e){l=!1}b=l}}return f[a]=!!b}c||(c=d.Object());g||(g=d.Object());var h=c.Number||d.Number,k=c.String||d.String,l=c.Object||d.Object,m=c.Date||d.Date,n=c.SyntaxError||d.SyntaxError,q=c.TypeError||
    d.TypeError,r=c.Math||d.Math,K=c.JSON||d.JSON;"object"==typeof K&&K&&(g.stringify=K.stringify,g.parse=K.parse);var l=l.prototype,w=l.toString,x,H,A,B=new m(-0xc782b5b800cec);try{B=-109252==B.getUTCFullYear()&&0===B.getUTCMonth()&&1===B.getUTCDate()&&10==B.getUTCHours()&&37==B.getUTCMinutes()&&6==B.getUTCSeconds()&&708==B.getUTCMilliseconds()}catch(W){}if(!f("json")){var I=f("bug-string-char-index");if(!B)var D=r.floor,S=[0,31,59,90,120,151,181,212,243,273,304,334],J=function(a,b){return S[b]+365*
    (a-1970)+D((a-1969+(b=+(1<b)))/4)-D((a-1901+b)/100)+D((a-1601+b)/400)};(x=l.hasOwnProperty)||(x=function(a){var b={},c;(b.__proto__=null,b.__proto__={toString:1},b).toString!=w?x=function(a){var b=this.__proto__;a=a in(this.__proto__=null,this);this.__proto__=b;return a}:(c=b.constructor,x=function(a){var b=(this.constructor||c).prototype;return a in this&&!(a in b&&this[a]===b[a])});b=null;return x.call(this,a)});H=function(b,c){var d=0,e,g,f;(e=function(){this.valueOf=0}).prototype.valueOf=0;g=
    new e;for(f in g)x.call(g,f)&&d++;e=g=null;d?H=2==d?function(a,b){var c={},d="[object Function]"==w.call(a),e;for(e in a)d&&"prototype"==e||x.call(c,e)||!(c[e]=1)||!x.call(a,e)||b(e)}:function(a,b){var c="[object Function]"==w.call(a),d,e;for(d in a)c&&"prototype"==d||!x.call(a,d)||(e="constructor"===d)||b(d);(e||x.call(a,d="constructor"))&&b(d)}:(g="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),H=function(b,c){var d="[object Function]"==
    w.call(b),e,f=!d&&"function"!=typeof b.constructor&&a[typeof b.hasOwnProperty]&&b.hasOwnProperty||x;for(e in b)d&&"prototype"==e||!f.call(b,e)||c(e);for(d=g.length;e=g[--d];f.call(b,e)&&c(e));});return H(b,c)};if(!f("json-stringify")){var T={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},E=function(a,b){return("000000"+(b||0)).slice(-a)},P=function(a){for(var b='"',c=0,d=a.length,e=!I||10<d,g=e&&(I?a.split(""):a);c<d;c++){var f=a.charCodeAt(c);switch(f){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=
    T[f];break;default:if(32>f){b+="\\u00"+E(2,f.toString(16));break}b+=e?g[c]:a.charAt(c)}}return b+'"'},N=function(a,b,c,d,e,g,f){var h,k,l,m,n,p,r,u,t;try{h=b[a]}catch(v){}if("object"==typeof h&&h)if(k=w.call(h),"[object Date]"!=k||x.call(h,"toJSON"))"function"==typeof h.toJSON&&("[object Number]"!=k&&"[object String]"!=k&&"[object Array]"!=k||x.call(h,"toJSON"))&&(h=h.toJSON(a));else if(h>-1/0&&h<1/0){if(J){m=D(h/864E5);for(k=D(m/365.2425)+1970-1;J(k+1,0)<=m;k++);for(l=D((m-J(k,0))/30.42);J(k,l+1)<=
m;l++);m=1+m-J(k,l);n=(h%864E5+864E5)%864E5;p=D(n/36E5)%24;r=D(n/6E4)%60;u=D(n/1E3)%60;n%=1E3}else k=h.getUTCFullYear(),l=h.getUTCMonth(),m=h.getUTCDate(),p=h.getUTCHours(),r=h.getUTCMinutes(),u=h.getUTCSeconds(),n=h.getUTCMilliseconds();h=(0>=k||1E4<=k?(0>k?"-":"+")+E(6,0>k?-k:k):E(4,k))+"-"+E(2,l+1)+"-"+E(2,m)+"T"+E(2,p)+":"+E(2,r)+":"+E(2,u)+"."+E(3,n)+"Z"}else h=null;c&&(h=c.call(b,a,h));if(null===h)return"null";k=w.call(h);if("[object Boolean]"==k)return""+h;if("[object Number]"==k)return h>
-1/0&&h<1/0?""+h:"null";if("[object String]"==k)return P(""+h);if("object"==typeof h){for(a=f.length;a--;)if(f[a]===h)throw q();f.push(h);t=[];b=g;g+=e;if("[object Array]"==k){l=0;for(a=h.length;l<a;l++)k=N(l,h,c,d,e,g,f),t.push(k===A?"null":k);a=t.length?e?"[\n"+g+t.join(",\n"+g)+"\n"+b+"]":"["+t.join(",")+"]":"[]"}else H(d||h,function(a){var b=N(a,h,c,d,e,g,f);b!==A&&t.push(P(a)+":"+(e?" ":"")+b)}),a=t.length?e?"{\n"+g+t.join(",\n"+g)+"\n"+b+"}":"{"+t.join(",")+"}":"{}";f.pop();return a}};g.stringify=
    function(b,c,e){var d,g,f,h;if(a[typeof c]&&c)if("[object Function]"==(h=w.call(c)))g=c;else if("[object Array]"==h){f={};for(var k=0,l=c.length,m;k<l;m=c[k++],(h=w.call(m),"[object String]"==h||"[object Number]"==h)&&(f[m]=1));}if(e)if("[object Number]"==(h=w.call(e))){if(0<(e-=e%1))for(d="",10<e&&(e=10);d.length<e;d+=" ");}else"[object String]"==h&&(d=10>=e.length?e:e.slice(0,10));return N("",(m={},m[""]=b,m),g,f,d,"",[])}}if(!f("json-parse")){var U=k.fromCharCode,V={92:"\\",34:'"',47:"/",98:"\b",
    116:"\t",110:"\n",102:"\f",114:"\r"},p,L,t=function(){p=L=null;throw n();},F=function(){for(var a=L,b=a.length,c,e,d,g,f;p<b;)switch(f=a.charCodeAt(p),f){case 9:case 10:case 13:case 32:p++;break;case 123:case 125:case 91:case 93:case 58:case 44:return c=I?a.charAt(p):a[p],p++,c;case 34:c="@";for(p++;p<b;)if(f=a.charCodeAt(p),32>f)t();else if(92==f)switch(f=a.charCodeAt(++p),f){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:c+=V[f];p++;break;case 117:e=++p;for(d=p+4;p<d;p++)f=
    a.charCodeAt(p),48<=f&&57>=f||97<=f&&102>=f||65<=f&&70>=f||t();c+=U("0x"+a.slice(e,p));break;default:t()}else{if(34==f)break;f=a.charCodeAt(p);for(e=p;32<=f&&92!=f&&34!=f;)f=a.charCodeAt(++p);c+=a.slice(e,p)}if(34==a.charCodeAt(p))return p++,c;t();default:e=p;45==f&&(g=!0,f=a.charCodeAt(++p));if(48<=f&&57>=f){for(48==f&&(f=a.charCodeAt(p+1),48<=f&&57>=f)&&t();p<b&&(f=a.charCodeAt(p),48<=f&&57>=f);p++);if(46==a.charCodeAt(p)){for(d=++p;d<b&&(f=a.charCodeAt(d),48<=f&&57>=f);d++);d==p&&t();p=d}f=a.charCodeAt(p);
    if(101==f||69==f){f=a.charCodeAt(++p);43!=f&&45!=f||p++;for(d=p;d<b&&(f=a.charCodeAt(d),48<=f&&57>=f);d++);d==p&&t();p=d}return+a.slice(e,p)}g&&t();if("true"==a.slice(p,p+4))return p+=4,!0;if("false"==a.slice(p,p+5))return p+=5,!1;if("null"==a.slice(p,p+4))return p+=4,null;t()}return"$"},O=function(a){var b,c;"$"==a&&t();if("string"==typeof a){if("@"==(I?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];;c||(c=!0)){a=F();if("]"==a)break;c&&(","==a?(a=F(),"]"==a&&t()):t());","==a&&t();b.push(O(a))}return b}if("{"==
    a){for(b={};;c||(c=!0)){a=F();if("}"==a)break;c&&(","==a?(a=F(),"}"==a&&t()):t());","!=a&&"string"==typeof a&&"@"==(I?a.charAt(0):a[0])&&":"==F()||t();b[a.slice(1)]=O(F())}return b}t()}return a},R=function(a,b,c){c=Q(a,b,c);c===A?delete a[b]:a[b]=c},Q=function(a,b,c){var d=a[b],e;if("object"==typeof d&&d)if("[object Array]"==w.call(d))for(e=d.length;e--;)R(d,e,c);else H(d,function(a){R(d,a,c)});return c.call(a,b,d)};g.parse=function(a,b){var c,d;p=0;L=""+a;c=O(F());"$"!=F()&&t();p=L=null;return b&&
"[object Function]"==w.call(b)?Q((d={},d[""]=c,d),"",b):c}}}g.runInContext=b;return g}var a={"function":!0,object:!0},f=a[typeof g]&&g&&!g.nodeType&&g,d=a[typeof window]&&window||this,h=f&&a[typeof k]&&k&&!k.nodeType&&"object"==typeof c&&c;!h||h.global!==h&&h.window!==h&&h.self!==h||(d=h);if(f)b(d,f);else{var l=d.JSON,r=d.JSON3,q=!1,m=b(d,d.JSON3={noConflict:function(){q||(q=!0,d.JSON=l,d.JSON3=r,l=r=null);return m}});d.JSON={parse:m.parse,stringify:m.stringify}}}).call(this)}).call(this,"undefined"!==
typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{}],51:[function(h,k,g){k.exports=function(c,b){for(var a=[],f=(b=b||0)||0;f<c.length;f++)a[f-b]=c[f];return a}},{}]},{},[31])(31)});